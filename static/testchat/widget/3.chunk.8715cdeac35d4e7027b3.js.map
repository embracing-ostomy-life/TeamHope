{"version":3,"sources":["webpack://CometChatWidget/./src/components/App/DockedLauncher/style.js","webpack://CometChatWidget/./src/components/App/DockedLauncher/index.js","webpack://CometChatWidget/./src/components/App/utils.js","webpack://CometChatWidget/./node_modules/@emotion/weak-memoize/dist/emotion-weak-memoize.esm.js","webpack://CometChatWidget/./src/hoc/FrameProvider.js","webpack://CometChatWidget/./src/components/App/DockedLauncher/resources/chat_bubble.svg","webpack://CometChatWidget/./src/components/App/DockedLauncher/resources/chat_close.svg","webpack://CometChatWidget/./node_modules/react-frame-component/lib/Content.js","webpack://CometChatWidget/./node_modules/react-frame-component/lib/Context.js","webpack://CometChatWidget/./node_modules/react-frame-component/lib/Frame.js","webpack://CometChatWidget/./node_modules/react-frame-component/lib/index.js"],"names":["launcherWrapperStyle","props","keyframes","responsiveData","getResponsiveData","alignmentStyle","hasOwnProperty","alignment","left","dockedIconHorizontalPadding","right","backgroundProp","background","validateWidgetSettings","settings","style","launcherAnimation","zIndex","position","bottom","dockedBottomPadding","width","dockedIconWidth","height","dockedIconHeight","boxShadow","borderRadius","cursor","launcherStyle","top","transformOrigin","overflow","opacity","openLauncherIconStyle","state","active","transform","closeLauncherIconStyle","DockedLauncher","updateUnreadCount","prevProps","messagelist","setState","Object","keys","length","total","values","reduce","accumulator","currentValue","unreadcount","clicked","notificationIcon","this","css","backgroundColor","textAlign","color","display","minWidth","minHeight","lineHeight","padding","fontSize","fontWeight","fontFamily","theme","openIcon","src","chatBubble","closeIcon","chatClose","onClick","toggleView","className","maxHeight","maxWidth","boxSizing","border","FrameProvider","alignItems","justifyContent","outline","transition","objectFit","React","defaultProps","propTypes","PropTypes","smallScreenWidth","data","dockedHorizontalPadding","window","innerWidth","func","cache","memoizedCreateCacheWithContainer","container","createCache","key","WeakMap","arg","has","get","ret","set","document","C","value","head","children","module","exports","defineProperty","_createClass","defineProperties","target","i","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","prototype","_react","_propTypes2","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","Content","_Component","__proto__","getPrototypeOf","apply","arguments","subClass","superClass","create","constructor","setPrototypeOf","_inherits","contentDidMount","contentDidUpdate","Children","only","Component","element","isRequired","FrameContextConsumer","FrameContextProvider","FrameContext","undefined","_react2","doc","win","createContext","Provider","Consumer","_extends","assign","source","_reactDom2","_Context","_Content2","Frame","context","_this","handleLoad","forceUpdate","_isMounted","getDoc","readyState","node","addEventListener","removeEventListener","contentDocument","mountTarget","querySelector","body","defaultView","parentView","contents","createElement","open","write","initialContent","close","getMountTarget","createPortal","_this2","ref","renderFrameContents","object","string","oneOfType","arrayOf","_Frame2"],"mappings":"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","file":"3.chunk.8715cdeac35d4e7027b3.js","sourcesContent":["import { validateWidgetSettings } from \"../../../util\";\nimport { getResponsiveData } from \"../utils\";\n\nexport const launcherWrapperStyle = (props, keyframes) => {\n\n    const responsiveData = getResponsiveData()\n\n    const alignmentStyle = (props.hasOwnProperty(\"alignment\") && props.alignment === \"left\") ? {\n        left: `${responsiveData.dockedIconHorizontalPadding}px`,\n        right: \"unset\",\n    } : {};\n\n    let backgroundProp = {\n        background: \"#03a9f4\",\n    };\n\n    if (validateWidgetSettings(props.settings, \"style\", \"docked_layout_icon_background\")) {\n\n        const customColor = props.settings.style[\"docked_layout_icon_background\"];\n        backgroundProp = {\n            background: customColor,\n        }\n    }\n\n    const launcherAnimation = keyframes`\n    from {\n        opacity: 0;\n        transform: scale(0.5);\n    }\n    to {\n        opacity: 1;\n        transform: scale(1);\n    }`;\n\n\n    return {\n        zIndex: \"2147483000\",\n        position: \"fixed\",\n        bottom: `${responsiveData.dockedBottomPadding}px`,\n        right: `${responsiveData.dockedIconHorizontalPadding}px`,\n        width: `${responsiveData.dockedIconWidth}px`,\n        height: `${responsiveData.dockedIconHeight}px`,\n        boxShadow: \"rgba(0, 0, 0, 0.06) 0px 1px 6px 0px, rgba(0, 0, 0, 0.16) 0px 2px 32px 0px\",\n        borderRadius: \"50%\",\n        cursor: \"pointer\",\n        boxShadow: \"0 1px 6px 0 rgba(0, 0, 0, 0.06), 0 2px 32px 0 rgba(0, 0, 0, 0.16)\",\n        animation: `${launcherAnimation} 250ms ease`,\n        ...alignmentStyle,\n        ...backgroundProp,\n    }\n}\n\nexport const launcherFrameStyle = () => {\n\n    return {\n        maxHeight: \"none\",\n        maxWidth: \"none\",\n        minHeight: \"0px\",\n        minWidth: \"0px\",\n        boxSizing: \"border-box\",\n        border: \"none\",\n        width: \"100%\",\n        height: \"100%\",\n    }\n}\n\nexport const launcherStyle = (props) => {\n\n    const responsiveData = getResponsiveData();\n\n    let backgroundProp = {\n        background: \"#03a9f4\",\n    };\n\n    if (validateWidgetSettings(props.settings, \"style\", \"docked_layout_icon_background\")) {\n\n        const customColor = props.settings.style[\"docked_layout_icon_background\"];\n        backgroundProp = {\n            background: customColor,\n        }\n    }\n\n    return {\n        position: \"absolute\",\n        top: \"0px\",\n        left: \"0px\",\n        width: `${responsiveData.dockedIconWidth}px`,\n        height: `${responsiveData.dockedIconHeight}px`,\n        cursor: \"pointer\",\n        transformOrigin: \"center center 0px\",\n        borderRadius: \"50%\",\n        overflow: \"hidden\",\n        opacity: \"1\",\n        ...backgroundProp\n    }\n}\n\nexport const launcherContainerStyle = () => {\n\n    return {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        \"img\": {\n            outline: \"none\",\n            position: \"absolute\",\n            top: \"0\",\n            left: \"0\",\n            width: \"100%\",\n            height: \"100%\",\n            transition: \"transform 0.16s linear, opacity 0.08s linear\",\n            objectFit: \"contain\"\n        }\n    }\n}\n\nexport const openLauncherIconStyle = (state) => {\n\n    const openIconState = (state.active === false) ? { \n        opacity: \"1\",\n        transform: \"rotate(0deg) scale(1)\",\n    } : {\n        opacity: \"0\",\n        transform: \"rotate(30deg) scale(0)\",\n    };\n\n    return {\n        ...openIconState\n    }\n}\n\nexport const closeLauncherIconStyle = (state) => {\n\n    const closeIconState = (state.active === true) ? { \n        opacity: \"1\",\n        transform: \"rotate(0deg)\", \n    } : { \n        opacity: \"0\",\n        transform: \"rotate(-60deg)\",\n    };\n\n    return {\n        ...closeIconState\n    }\n}\n\nexport const notificationIconWrapperStyle = () => {\n\n    return {\n        position: \"relative\",\n        zIndex: \"2\"\n    }\n}\n\nexport const notificationIconStyle = (props) => {\n\n    return {\n        backgroundColor: \"#FF5757\",\n        borderRadius: \"50%\",\n        textAlign: \"center\",\n        color: \"#FFFFFF\",\n        position: \"absolute\",\n        top: \"-8px\",\n        right: \"-6px\",\n        display: \"block\",\n        minWidth: \"18px\",\n        minHeight: \"18px\",\n        lineHeight: \"18px\",\n        padding: \"2px\",\n        fontSize: \"13px\",\n        fontWeight: \"bold\",\n        fontFamily: `${props.theme.fontFamily}`,\n    }\n}\n","import React from \"react\";\nimport PropTypes from 'prop-types';\n\n/** @jsx jsx */\nimport { jsx, keyframes } from '@emotion/react';\n\nimport Frame from \"react-frame-component\";\n\nimport { FrameProvider } from \"../../../hoc/FrameProvider\";\nimport { validateWidgetSettings } from \"../../../util\";\n\nimport { \n    launcherWrapperStyle,\n    launcherFrameStyle,\n    launcherStyle, \n    launcherContainerStyle,\n    openLauncherIconStyle, \n    closeLauncherIconStyle,\n    notificationIconWrapperStyle,\n    notificationIconStyle\n} from \"./style\";\n\nimport chatBubble from './resources/chat_bubble.svg';\nimport chatClose from './resources/chat_close.svg';\n\nexport class DockedLauncher extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            active: false,\n            unreadcount: 0\n        }\n    }\n\n    componentDidMount = () => {\n\n        this.updateUnreadCount();\n    }\n\n    componentDidUpdate = (prevProps) => {\n\n        if (prevProps.messagelist !== this.props.messagelist) {\n            this.updateUnreadCount();\n        }\n\n        if (prevProps.active !== this.props.active) {\n            this.setState({ active: this.props.active });\n        }\n    }\n\n    updateUnreadCount = () => {\n\n        if (Object.keys(this.props.messagelist).length === 0) \n            return false;\n\n        const messagelist = this.props.messagelist;\n        const reducer = (accumulator, currentValue) => accumulator + currentValue;\n\n        const total = Object.values(messagelist).reduce(reducer);\n        this.setState({ unreadcount: total });\n    }\n\n    toggleView = () => {\n\n        const active = this.state.active; \n        this.setState({ active: !active});\n\n        this.props.clicked();\n    }\n\n    render() {\n\n        let notificationIcon = null;\n        if (this.state.unreadcount) {\n            notificationIcon = (<div css={notificationIconWrapperStyle()}><span css={notificationIconStyle(this.props)}>{this.state.unreadcount}</span></div>);\n        }\n\n        let openIcon = (<img src={chatBubble} css={openLauncherIconStyle(this.state)} />);\n        if (validateWidgetSettings(this.props.settings, \"style\", \"docked_layout_icon_open\")) {\n\n            const chatBubble = this.props.settings.style[\"docked_layout_icon_open\"];\n            openIcon = (<img src={chatBubble} css={openLauncherIconStyle(this.state)} />);\n        }\n\n        let closeIcon = (<img src={chatClose} css={closeLauncherIconStyle(this.state)} />);\n        if (validateWidgetSettings(this.props.settings, \"style\", \"docked_layout_icon_close\")) {\n\n            const chatClose = this.props.settings.style[\"docked_layout_icon_close\"];\n            closeIcon = (<img src={chatClose} css={closeLauncherIconStyle(this.state)} />);\n        }\n\n        return (\n            <div css={launcherWrapperStyle(this.props, keyframes)} onClick={this.toggleView} className=\"app__launcher\">\n                <Frame css={launcherFrameStyle()}>\n                    <FrameProvider>\n                        {notificationIcon}\n                        <div css={launcherStyle(this.props)} className=\"launcher__wrapper\">\n                            <div css={launcherContainerStyle()} className=\"launcher__container\">\n                                {openIcon}\n                                {closeIcon}\n                            </div>\n                        </div>\n                        \n                    </FrameProvider>\n                </Frame>\n            </div>\n        );\n    }\n}\n\n// Specifies the default values for props:\nDockedLauncher.defaultProps = {\n    active: false,\n};\n\nDockedLauncher.propTypes = {\n    active: PropTypes.bool\n}","export const minWidth = \"100%\";\nexport const minHeight = \"100%\";\nexport const smallScreenWidth = 450;\n\nexport const getResponsiveData = () => {\n    let data = {\n        dockedIconWidth: 60,\n        dockedIconHeight: 60,\n        dockedBottomPadding: 20,\n        dockedHorizontalPadding: 20,\n        dockedIconHorizontalPadding: 20,\n    }\n    \n    const availWidth = window.innerWidth;\n    if(availWidth <= smallScreenWidth) {\n        data.dockedIconWidth = 40;\n        data.dockedIconHeight = 40;\n        data.dockedBottomPadding = 5;\n        data.dockedHorizontalPadding = 0;\n        data.dockedIconHorizontalPadding = 5;\n    }\n\n    return data;\n}\n\nexport const getCallingPopUpOrigin = (width) => {\n    const availWidth = window.innerWidth;\n    if(availWidth <= smallScreenWidth) {\n        /**Small screens */\n        return availWidth\n    } else {\n        return width\n    }\n}","var weakMemoize = function weakMemoize(func) {\n  // $FlowFixMe flow doesn't include all non-primitive types as allowed for weakmaps\n  var cache = new WeakMap();\n  return function (arg) {\n    if (cache.has(arg)) {\n      // $FlowFixMe\n      return cache.get(arg);\n    }\n\n    var ret = func(arg);\n    cache.set(arg, ret);\n    return ret;\n  };\n};\n\nexport { weakMemoize as default };\n","import * as React from \"react\";\nimport { CacheProvider } from \"@emotion/react\";\nimport createCache from \"@emotion/cache\";\nimport weakMemoize from \"@emotion/weak-memoize\";\nimport { FrameContextConsumer } from \"react-frame-component\";\n\nlet memoizedCreateCacheWithContainer = weakMemoize(container => {\n    let newCache = createCache({ container,key:\"frameprovider\" });\n    return newCache;\n});\n\nexport const FrameProvider = props => (\n    <FrameContextConsumer>\n        {({ document }) => {\n            return (\n                <CacheProvider value={memoizedCreateCacheWithContainer(document.head)}>\n                    {props.children}\n                </CacheProvider>\n            );\n        }}\n    </FrameContextConsumer>\n);\n","module.exports = __webpack_public_path__ + \"resources/chat_bubble-05d1867e595f7bda8c73d0570f535310.svg\";","module.exports = __webpack_public_path__ + \"resources/chat_close-b97c4ad5bc14f52f19bad64d5216fde6.svg\";","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // eslint-disable-line no-unused-vars\n\n\nvar Content = function (_Component) {\n  _inherits(Content, _Component);\n\n  function Content() {\n    _classCallCheck(this, Content);\n\n    return _possibleConstructorReturn(this, (Content.__proto__ || Object.getPrototypeOf(Content)).apply(this, arguments));\n  }\n\n  _createClass(Content, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.props.contentDidMount();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.props.contentDidUpdate();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react.Children.only(this.props.children);\n    }\n  }]);\n\n  return Content;\n}(_react.Component);\n\nContent.propTypes = {\n  children: _propTypes2.default.element.isRequired,\n  contentDidMount: _propTypes2.default.func.isRequired,\n  contentDidUpdate: _propTypes2.default.func.isRequired\n};\nexports.default = Content;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FrameContextConsumer = exports.FrameContextProvider = exports.FrameContext = undefined;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar doc = void 0;\nvar win = void 0;\nif (typeof document !== 'undefined') {\n  doc = document;\n}\nif (typeof window !== 'undefined') {\n  win = window;\n}\n\nvar FrameContext = exports.FrameContext = _react2.default.createContext({ document: doc, window: win });\n\nvar FrameContextProvider = FrameContext.Provider,\n    FrameContextConsumer = FrameContext.Consumer;\nexports.FrameContextProvider = FrameContextProvider;\nexports.FrameContextConsumer = FrameContextConsumer;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Context = require('./Context');\n\nvar _Content = require('./Content');\n\nvar _Content2 = _interopRequireDefault(_Content);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Frame = function (_Component) {\n  _inherits(Frame, _Component);\n\n  // React warns when you render directly into the body since browser extensions\n  // also inject into the body and can mess up React. For this reason\n  // initialContent is expected to have a div inside of the body\n  // element that we render react into.\n  function Frame(props, context) {\n    _classCallCheck(this, Frame);\n\n    var _this = _possibleConstructorReturn(this, (Frame.__proto__ || Object.getPrototypeOf(Frame)).call(this, props, context));\n\n    _this.handleLoad = function () {\n      _this.forceUpdate();\n    };\n\n    _this._isMounted = false;\n    return _this;\n  }\n\n  _createClass(Frame, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this._isMounted = true;\n\n      var doc = this.getDoc();\n      if (doc && doc.readyState === 'complete') {\n        this.forceUpdate();\n      } else {\n        this.node.addEventListener('load', this.handleLoad);\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n\n      this.node.removeEventListener('load', this.handleLoad);\n    }\n  }, {\n    key: 'getDoc',\n    value: function getDoc() {\n      return this.node ? this.node.contentDocument : null; // eslint-disable-line\n    }\n  }, {\n    key: 'getMountTarget',\n    value: function getMountTarget() {\n      var doc = this.getDoc();\n      if (this.props.mountTarget) {\n        return doc.querySelector(this.props.mountTarget);\n      }\n      return doc.body.children[0];\n    }\n  }, {\n    key: 'renderFrameContents',\n    value: function renderFrameContents() {\n      if (!this._isMounted) {\n        return null;\n      }\n\n      var doc = this.getDoc();\n\n      if (!doc) {\n        return null;\n      }\n\n      var contentDidMount = this.props.contentDidMount;\n      var contentDidUpdate = this.props.contentDidUpdate;\n\n      var win = doc.defaultView || doc.parentView;\n      var contents = _react2.default.createElement(\n        _Content2.default,\n        {\n          contentDidMount: contentDidMount,\n          contentDidUpdate: contentDidUpdate\n        },\n        _react2.default.createElement(\n          _Context.FrameContextProvider,\n          { value: { document: doc, window: win } },\n          _react2.default.createElement(\n            'div',\n            { className: 'frame-content' },\n            this.props.children\n          )\n        )\n      );\n\n      if (doc.body.children.length < 1) {\n        doc.open('text/html', 'replace');\n        doc.write(this.props.initialContent);\n        doc.close();\n      }\n\n      var mountTarget = this.getMountTarget();\n\n      return [_reactDom2.default.createPortal(this.props.head, this.getDoc().head), _reactDom2.default.createPortal(contents, mountTarget)];\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var props = _extends({}, this.props, {\n        children: undefined // The iframe isn't ready so we drop children from props here. #12, #17\n      });\n      delete props.head;\n      delete props.initialContent;\n      delete props.mountTarget;\n      delete props.contentDidMount;\n      delete props.contentDidUpdate;\n      return _react2.default.createElement(\n        'iframe',\n        _extends({}, props, {\n          ref: function ref(node) {\n            _this2.node = node;\n          }\n        }),\n        this.renderFrameContents()\n      );\n    }\n  }]);\n\n  return Frame;\n}(_react.Component);\n\nFrame.propTypes = {\n  style: _propTypes2.default.object, // eslint-disable-line\n  head: _propTypes2.default.node,\n  initialContent: _propTypes2.default.string,\n  mountTarget: _propTypes2.default.string,\n  contentDidMount: _propTypes2.default.func,\n  contentDidUpdate: _propTypes2.default.func,\n  children: _propTypes2.default.oneOfType([_propTypes2.default.element, _propTypes2.default.arrayOf(_propTypes2.default.element)])\n};\nFrame.defaultProps = {\n  style: {},\n  head: null,\n  children: undefined,\n  mountTarget: undefined,\n  contentDidMount: function contentDidMount() {},\n  contentDidUpdate: function contentDidUpdate() {},\n  initialContent: '<!DOCTYPE html><html><head></head><body><div class=\"frame-root\"></div></body></html>'\n};\nexports.default = Frame;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FrameContextConsumer = exports.FrameContext = undefined;\n\nvar _Context = require('./Context');\n\nObject.defineProperty(exports, 'FrameContext', {\n  enumerable: true,\n  get: function get() {\n    return _Context.FrameContext;\n  }\n});\nObject.defineProperty(exports, 'FrameContextConsumer', {\n  enumerable: true,\n  get: function get() {\n    return _Context.FrameContextConsumer;\n  }\n});\n\nvar _Frame = require('./Frame');\n\nvar _Frame2 = _interopRequireDefault(_Frame);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _Frame2.default;"],"sourceRoot":""}
{% extends "team_hope/base.html" %}

{% block title %}Chat App{% endblock %}

{% block content %}
<div class="max-w-md mx-auto">
    <ul class="flex border-b">
        <li class="mr-4">
            <a href="#contacts" class="py-2 px-4 text-gray-600 hover:text-gray-800">Contacts</a>
        </li>
        <li>
            <a href="#chats" class="py-2 px-4 text-gray-600 hover:text-gray-800">Chats</a>
        </li>
    </ul>
    <div id="contacts" class="mt-4">
        {% if contacts %}
            <ul>
                {% for contact in contacts %}
                    <li>{{ contact.name }}</li>
                {% endfor %}
            </ul>
        {% else %}
            <p>You have no contacts; check back soon.</p>
        {% endif %}
    </div>
    <div id="chat" class="mt-4">
        {% if chats %}
            <ul>
                {% for chat in chats %}
                    <li>
                        <strong>{{ chat.title }}</strong>
                        <p>{{ chat.preview }}</p>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>You have no chats; message a contact to start a chat.</p>
        {% endif %}
    </div>
    <script>
        // Get references to the tab links
        const contactsTab = document.querySelector('[href="#contacts"]');
        const chatsTab = document.querySelector('[href="#chats"]');
    
        // Get references to the tab content sections
        const contactsSection = document.getElementById('contacts');
        const chatsSection = document.getElementById('chat');
    
        // Hide the chats section initially
        chatsSection.style.display = 'none';
    
        // Event listener for clicking the contacts tab
        contactsTab.addEventListener('click', (event) => {
            event.preventDefault(); // Prevent default navigation behavior
            contactsSection.style.display = 'block';
            chatsSection.style.display = 'none';
        });
    
        // Event listener for clicking the chats tab
        chatsTab.addEventListener('click', (event) => {
            event.preventDefault(); // Prevent default navigation behavior
            chatsSection.style.display = 'block';
            contactsSection.style.display = 'none';
        });
    </script>
</div>
{% endblock %}
